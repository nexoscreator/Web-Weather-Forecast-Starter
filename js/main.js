const n=document.getElementById("loading-spinner"),s="fbcf94b5f2a248b4bda53901242203",t="https://api.weatherapi.com/v1/current.json";function a(){n.style.display="none"}async function i(i,r){const c=`${t}?key=${s}&q=${i},${r}&aqi=yes`;n.style.display="block";try{const n=await fetch(c);if(!n.ok)throw new Error("Network response was not ok");const s=await n.json();a(),function(n){const{location:s,current:t}=n,a=document.getElementById("weather-info");document.getElementById("weather-header").innerHTML=`\n    <h2>${s.name}</h2>\n    <span>${t.temp_c}Â°C</span>\n    <p>${t.condition.text}</p>\n    <p>H: ${t.humidity}% W: ${t.wind_kph} km/h ${t.wind_dir}</p>\n  `,a.innerHTML=`\n    <div class="card">\n      <h2 class="card-title">Last Updated: ${t.last_updated} is_day</h2>\n      <div class="flex">\n        ${e("Pressure",t.pressure_in,"./assets/icon/0.svg")}\n        ${e("Cloud",t.cloud,"./assets/icon/1.svg")}\n        ${e("Visibility",t.vis_km,"./assets/icon/2.svg")}\n        ${e("UV",t.uv,"./assets/icon/3.svg")}\n        ${e("Wind",t.gust_kph,"./assets/icon/4.svg")}\n      </div>\n      <div class="card-info flex">\n        ${o("CO",t.air_quality.co,"./../assets/icon/5.svg")}\n        ${o("NO2",t.air_quality.no2,"./assets/icon/6.svg")}\n        ${o("O3",t.air_quality.o3,"./assets/icon/7.svg")}\n        ${o("SO2",t.air_quality.so2,"./assets/icon/8.svg")}\n        ${o("PM2.5",t.air_quality.pm2_5,"./assets/icon/9.svg")}\n        ${o("PM10",t.air_quality.pm10,"./assets/icon/10.svg")}\n      </div>\n    </div>\n  `}(s)}catch(l){console.error("Error fetching weather data:",l),a(),alert("Failed to fetch weather data. Please try again.")}}function e(n,s,t){return`\n    <div class="card-info">\n      <h2 class="card-title">${n}</h2>\n      <img class="card-icon" src="${t}" alt="${n.toLowerCase()}" />\n      <p class="card-description">${s}</p>\n    </div>\n  `}function o(n,s,t){return`\n    <div class="card-basic">\n      <h2 class="card-title">${n}</h2>\n      <img class="card-icon" src="${t}" alt="air_quality_${n.toLowerCase()}" />\n      <p class="card-description">${s}</p>\n    </div>\n  `}function r(n){const{latitude:s,longitude:t}=n.coords;i(s,t)}function c(n){console.error("Error retrieving location:",n),alert("Failed to retrieve your location. Please try again.")}navigator.geolocation?navigator.geolocation.getCurrentPosition(r,c):alert("Geolocation is not supported by your browser.");
